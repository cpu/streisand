---

# Include each playbook in order to check syntax of each playbook
- name: "Include every playbook"
  import_playbook: "../playbooks/{{ item }}.yml"
  with_items:
    - amazon
    - azure
    - cloud-status
    - digitalocean
    - existing-server
    - google
    - lets-encrypt
    - linode
    - localhost
    - provider-detect
    - python
    - rackspace
    - ssh-setup
    - streisand
    - test-client
    - vagrant
    - run
    - development-setup

# Explicity include each role to ensure all roles are tested
- hosts: localhost
  remote_user: root
  roles:
    - azure-security-group
    - certificates
    - common
    - diagnostics
    - diffie-hellman-group
    - dnsmasq
    - download-and-verify
    - ec2-security-group
    - gce-network
    - genesis-amazon
    - genesis-azure
    - genesis-digitalocean
    - genesis-google
    - genesis-linode
    - genesis-rackspace
    - ip-forwarding
    - l2tp-ipsec
    - lets-encrypt
    - monit
    - nginx
    - openconnect
    - openvpn
    - shadowsocks
    - ssh
    - ssh-forward
    - sslh
    - streisand-gateway
    - streisand-mirror
    - stunnel
    - sysctl
    - test-client
    - tinyproxy
    - tor-bridge
    - ufw
    - validation
    - wireguard
